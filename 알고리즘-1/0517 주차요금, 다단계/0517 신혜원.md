## 0517

<br>

<br>

#### 주차 요금

```python
import math
def solution(fees, arr):
    N = len(arr)
	
    #lst로 변환
    for i in range(N):
        arr[i] = arr[i].split(' ')
	
    # 차 번호, 일찍 들어간 것, in&out 순으로 정렬
    arr.sort(key=lambda x:(x[1], x[0], x[2]))
    # padding
    arr = arr + [[0, 0, 0]]

    answer = 0
    res = []
    for i in range(N):
        # in일경우
        if arr[i][2] == 'IN':
            # 다음 것이랑 같으면
            if arr[i][1] == arr[i+1][1]:
                # 시간 계산
                answer += (int(arr[i+1][0][:2]) - int(arr[i][0][:2])) * 60 # 시간
                answer += int(arr[i+1][0][3:]) - int(arr[i][0][3:]) # 분
            # 다르면
            else:
                # 계산 후 res에 비용 계산하여 입력
                answer += (23 - int(arr[i][0][:2])) * 60 + 59 - int(arr[i][0][3:])
                if answer <= fees[0]:
                    res.append(fees[1])
                else:
                    res.append(fees[1] + math.ceil((answer - fees[0])/fees[2])*fees[3])
                answer = 0

        #out 일 경우
        else:
            # 다음 것이랑 다를경우 비용 계산
            if arr[i][1] != arr[i+1][1]:
                if answer <= fees[0]:
                    res.append(fees[1])
                else:
                    res.append(fees[1] + math.ceil((answer - fees[0])/fees[2])*fees[3])
                answer = 0

    return res
```

<br>

<br>

#### 다단계(TC만 통과함.. 푸는중)

```python
def solution(enroll, referral, seller, amount):
    answer = []
    N = len(enroll)
    cnt = [''] * N
    my_dict = {}
    for i in range(N):
        cnt[i] = referral[i]

    # 딕셔너리에 등록한사람 담아줌.
    for i in range(N):
        my_dict.setdefault(enroll[i], 0)

    M = len(seller)

    # 셀러 수만큼 순회
    for i in range(M):
        #판매가격
        price = amount[i] * 100
        #딕셔너리에 판매액 넣어줌
        my_dict[seller[i]] += int(assets * 0.9 + 0.5)
        #판매가격에 10%
        price = price * 0.1
        idx = enroll.index(seller[i])
        while cnt[idx] != '-':
            # 추천인에게 10% 넣어줌
            my_dict[cnt[idx]] += int(assets * 0.9 + 0.5)
            assets = assets * 0.1
            idx = enroll.index(cnt[idx])

    for i in range(N):
        answer.append(my_dict[enroll[i]])


    return answer
```

<br>

---

*end*